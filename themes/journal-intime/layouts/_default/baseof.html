<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "fr" }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
        {{- if .IsHome -}}
            {{ .Site.Title }}
        {{- else -}}
            {{ .Title }} - {{ .Site.Title }}
        {{- end -}}
    </title>
    
    <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta name="keywords" content="{{ if .Keywords }}{{ delimit .Keywords "," }}{{ else }}{{ delimit .Site.Params.keywords "," }}{{ end }}">
    <meta name="author" content="{{ .Site.Params.author }}">
    
    <!-- PrÃ©vention du flash FOUC pour mode sombre -->
    <script>
        (function() {
            if (localStorage.getItem('tired-mode') === 'true') {
                document.documentElement.classList.add('tired-mode');
            }
        })();
    </script>
    
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
    
    {{ with .Site.Params.customCss }}
        {{ range . }}
            <link rel="stylesheet" href="{{ . | relURL }}">
        {{ end }}
    {{ end }}
</head>
<body>
    <div class="container">
        <header class="site-header">
            <h1 class="site-title">
                <a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a>
            </h1>
            <nav class="site-nav">
                <a href="{{ "/" | relURL }}" class="nav-link">Accueil</a>
                {{- range .Site.Menus.main -}}
                <a href="{{ .URL | relURL }}" class="nav-link">{{ .Name }}</a>
                {{- end -}}
            </nav>
        </header>

        <main class="main-content">
            {{ block "main" . }}{{ end }}
        </main>
    </div>
    
    <script src="{{ "js/intimate-reading.js" | relURL }}"></script>
    
    {{ with .Site.Params.customJs }}
        {{ range . }}
            <script src="{{ . | relURL }}"></script>
        {{ end }}
    {{ end }}
</body>
</html>