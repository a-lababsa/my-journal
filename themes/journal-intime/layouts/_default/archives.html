{{ define "main" }}
<div class="list-header">
    <h1>{{ .Title }}</h1>
    {{ if .Content }}
        <div class="post-content">
            {{ .Content }}
        </div>
    {{ end }}
</div>

<section class="journal-entries">
    {{- range where .Site.RegularPages "Section" "posts" -}}
    <article class="journal-entry mood-{{ .Params.mood | default "neutral" | urlize }}">
        <div class="entry-meta">
            <span class="mood-indicator"></span>
            <time class="entry-date" datetime="{{ .Date.Format "2006-01-02" }}">
                {{ .Date.Format "2 janvier 2006" }}
            </time>
            {{- if .Params.categories -}}
            <span class="entry-category">{{ index .Params.categories 0 }}</span>
            {{- end -}}
        </div>
        
        <h3 class="entry-title">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </h3>
        
        <div class="entry-excerpt">
            {{ if .Summary }}
                {{ .Summary }}
                {{- if .Truncated -}}
                <p class="continue-reading">
                    <a href="{{ .RelPermalink }}">Lire la suite →</a>
                </p>
                {{- end -}}
            {{ else }}
                {{ .Content | truncate 200 }}
                <p class="continue-reading">
                    <a href="{{ .RelPermalink }}">Lire la suite →</a>
                </p>
            {{ end }}
        </div>
    </article>
    {{- end -}}
</section>
{{ end }}